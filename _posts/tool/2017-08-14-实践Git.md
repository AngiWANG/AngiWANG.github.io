---
layout: post
title: "实践Git"
date: 2017-08-14 15:58:13 +0800
categories: 工具
tags: git scm
---

## 介绍



## 安装



## 使用

### init

初始化仓库

```shell
$ git init
```
### status

```shell
$ git status
```



### add

添加（新文件或修改）到暂存区（stage或index）

```shell
$ git add <filename>
# 添加全部
$ git add --all
```

### commit

提交至暂存区

```shell
$ git commit -m "<comment>"
```

将修改跳过暂存直接提交至版本库

```shell
$ git commit -a -m "<comment>"
```

### checkout

```shell
# 撤销对工作区的修改
$ git checkout --<filename>
```

### ignore
.gitignore
```
.classpath
.project
.settings/
target/
.idea/
*.iml
```

### reset

```shell
# 撤销暂存
$ git reset HEAD <filename>
```



### diff

### log

### branch

```shell
# 查看分支
$ git branch
# 创建分支（默认基于当前分支，也可以制定起点）
$ git branch <new branch name> [<old branch name>|<tag name>|<commit>]
# 切换分支
$ git checkout <branch name>
# 创建并切换分支
git checkout -b <new branch name> [<old branch name>|<tag name>|<commit>]
# 创建并切换分支，并且跟远程分支关联
git checkout -b test origin/test
# 删除分支
git branch -d <branch name>
# 强制删除分支（比如当分支未被合并时）
git branch -D <branch name>
# 创建本地分支和远程分支的链接关系
$ git branch --set-upstream <branch name> origin/<branch name>
```

### remote

添加远程仓库，比如origin和upstream等

```shell
$ git remote add <remote> <url>
```

### clone

```shell
# 会自动添加origin远程仓库
$ git clone <url>
```

### push

推送到远程仓库

```shell
# 首次（需要关联）
$ git push -u origin master
```

```shell
# 非首次
$ git push origin
# 或【只有唯一的远程仓库】
$ git push
```

### pull

拉取远程仓库，相当于git fetch + git merge，从远程仓库拉取最新的内容并合并到本地工作空间

```shell
$ git pull <remote>
```

```shell
# 相当于git fetch + git rebase，从远程仓库拉取最新的内容并被嫁接到本地工作空间
$ git pull --rebase
```



### merge

将某个分支的变化合并进来，一般用于下面两种情况，一个是将成熟功能分支合并到主干分支，另一个是避免功能分支避免落后主干分支太多，不定期将主干分支合并到开发中的功能分支。

通常，合并分支时，如果可能，Git会用“fast forward”模式，但这种模式下，删除分支后，会丢掉分支信息。如果要强制禁用“Fast forward”模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。

```shell
# 合并某分支到当前分支（fast forward）
$ git merge -m "<comment>" <branch name>
```

```shell
# 合并某分支到当前分支（no fast forward）
$ git merge --no-ff -m "<comment>" <branch name>
```



### fetch

从远程仓库拉取最新的内容到本地仓库，不会合并到本地工作空间

```shell
$ git fetch <remote>
```



### rebase

顾名思义，就是重新定义（re）起点（base）的作用，也就是说把当前分支的根基换一下的意思，有点像嫁接。

```shell
# 当前分支嫁接到指定分支
$ git rebase <branch name>
```



### stash
