---
layout: post
title: "实践Linux常用命令"
date: 2017-09-25 13:53:00 +0800
categories: Linux
tags: linux sed curl
---

## zip

```shell
# 打包software目录为software.zip，-r表示递归，包括子目录
$ zip -r software.zip software/
```

## du

```shell
# 统计当前目录下各文件或目录的大小
$ du -h --max-depth=1
```

## sed

```shell
# 批量替换*.md文件中的categories: Spring为categories: Java
$ sed -i 's/categories: Spring/categories: Java/g' *.md
```

## curl

post

```shell
$ curl -X POST http://localhost:7002/shutdown
{"message":"Shutting down, bye..."}
```

post data

```shell
$ curl -d '' http://localhost:7002/refresh
["config.client.version","from"]
```

## scp

```shell
$ scp software.zip app@192.168.103.83:/app
```

## ssh-keygen





```shell
$ ssh-keygen -f "/home/angi/.ssh/known_hosts" -R 192.168.12.165
# Host 192.168.12.165 found: line 4
/home/angi/.ssh/known_hosts updated.
Original contents retained as /home/angi/.ssh/known_hosts.old
```



## ssh/scp/sftp等免密登录

1. 本机生成密钥

   ```shell
   $ ssh-keygen -t rsa -P ''
   ```

2. 将本地公钥上传到目标机器并添加到目标机器的授权密钥里面

   可以通过scp、sftp等工具上传

   ```shell
   $ cat id_rsa.pub >> ~/.ssh/authorized_keys
   ```

3. 确保授权密钥权限为600

   ```shell
   $ chmod 600 ~/.ssh/authorized_keys
   ```

   ​

## 